---
title: "p8105_hw2_sc5078"
author: "Yvonne Chen"
date: "2023-10-03"
output: github_document
---

# Problem 1
Load the tidyverse library
```{r setup, include = FALSE}
library(tidyverse)
library(readxl)
library(dplyr)
library(janitor)
```

Import three datasets
```{r clean pols_month}
## finds my current working directory
getwd()

## Import and clean pols_month.cvs datasets
pols_month = read.csv("./fivethirtyeight_datasets/pols-month.csv") |>
  janitor::clean_names()|>
  separate(mon, into=c("year", "month", "day"), convert = TRUE) |>
  mutate(
    month = month.name[month],
    president = 
      case_match(
        prez_gop, 
        0 ~ "democratic",
        1 ~ "republican", 
        2 ~ "republican"),
    president = as.factor(president)) |>
  select(-day, -prez_dem,-prez_gop)
```

```{r clean snp}
## Import and clean snp.csv datasets
snp = read.csv("./fivethirtyeight_datasets/snp.csv") |>
  janitor::clean_names()|>
  separate(date, into=c("month", "day", "year"), convert = TRUE) |>
  arrange(year, month) |>
  mutate(
    year = year + 2000,
    month = month.name[month]) |>
  select(year, month, close)

```

```{r clean unemployment}
## Import and clean unemployment.csv datasets
unemployment = read.csv("./fivethirtyeight_datasets/unemployment.csv") |>
  rename(year = Year) |>
  pivot_longer(
    Jan:Dec,
    names_to = "month", 
    values_to = "unemployment")
```

Join the datasets by merging snp into pols, and merging unemployment into the result
```{r merge datasets}
## merging snp into pols then merging unemployment into them
prob1 = 
  left_join(pols_month, snp) |>
  left_join(x = _, y = unemployment)

str(prob1)
```
The pols_month dataset has 822 observations of 9 variables related to the number of national politicians who are democratic or republican at any given time. The snp dataset has 787 observations of 3 variables related to Standard & Poorâ€™s stock market index (S&P), often used as a representative measure of stock market as a whole at given time. The unemployment dataset has 816 observations of 3 variables describe the unemployment rate at given time. After merging these datasets, we got all the information happened at the same month and year. There are "NA" values in the `close` and `unemployment` variables, which indicate that the value of these variables is missing at those times.


# Problem 2
Read and clean the Mr. Trash Wheel sheet, update the data to include a new homes_powered variable based on Homes powered note
```{r clean Mr. Trash Wheel sheet}
Mr_trash = read_excel(
  "./202309 Trash Wheel Collection Data.xlsx",
  sheet = "Mr. Trash Wheel",
  range = "A2:N586",
  col_names = TRUE,
  na = "",
  trim_ws = TRUE,
  skip = 0,
  n_max = ) |>
  janitor::clean_names() |>
  mutate(
    homes_powered = weight_tons * 500 / 30
  )
```


Clean Professor Trash Wheel and Gwynnda datasets
```{r clean Professor Trash Wheel and Gwynnda}
## import and clean Professor Trash Wheel
Prof_trash = read_excel(
  "./202309 Trash Wheel Collection Data.xlsx",
  sheet = "Professor Trash Wheel",
  range = "A2:M108",
  col_names = TRUE,
  na = "",
  trim_ws = TRUE,
  skip = 0,
  n_max = )




```
